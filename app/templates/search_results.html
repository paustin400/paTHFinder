{% extends "base.html" %}

{% block title %}PathFinder - Search Results{% endblock %}

{% block content %}
<div id="map-container">
    <div id="sidebar" class="floating-panel">
        <h2 class="text-center mb-4">Found Routes</h2>
        
        <div id="routes-list" class="routes-list">
            {% if routes %}
                {% for route in routes %}
                    <div class="route-item" data-route-id="{{ route.id }}">
                        <h3>{{ route.name }}</h3>
                        <div class="route-details">
                            <div class="detail-item">
                                <span class="icon">üìè</span>
                                {{ "%.1f"|format(route.distance) }} km
                            </div>
                            {% if route.elevation_gain %}
                            <div class="detail-item">
                                <span class="icon">‚õ∞Ô∏è</span>
                                {{ "%.1f"|format(route.elevation_gain) }}m gain
                            </div>
                            {% endif %}
                            {% if route.quality_score %}
                            <div class="detail-item">
                                <span class="icon">üìä</span>
                                {{ "%.1f"|format(route.quality_score * 100) }}% match
                            </div>
                            {% endif %}
                        </div>
                        <div class="route-description">
                            {{ route.description }}
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-results">
                    No routes found matching your criteria.
                </div>
            {% endif %}
        </div>

        <div class="action-buttons mt-4">
            <a href="{{ url_for('main.search_page') }}" class="btn btn-primary w-100">New Search</a>
        </div>
    </div>

    <div id="map"></div>
    
    <button id="toggle-sidebar" class="toggle-btn" aria-label="Toggle Sidebar">
        ‚ò∞
    </button>
</div>
{% endblock %}