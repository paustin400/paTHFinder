{% extends "base.html" %}

{% block title %}PathFinder - Search Routes{% endblock %}

{% block head %}
<script src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&libraries=places&callback=initMap" async defer></script>
{% endblock %}

{% block content %}
<div id="map-container">
    <div id="sidebar" class="floating-panel">
        <h2 class="text-center mb-4">Find Running Routes</h2>
        
        <form id="search-form" class="search-form">
            <div class="form-group">
                <label class="form-label" for="location">Starting Location</label>
                <div class="input-group">
                    <input type="text" id="location" class="form-control" 
                           placeholder="Enter location" required>
                    <button type="button" id="current-location" class="btn btn-secondary">
                        üìç Current Location
                    </button>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">
                    Proximity (km) <span id="proximity-value">10</span>
                </label>
                <input type="range" id="proximity" name="proximity" 
                       min="1" max="20" value="10" class="form-range">
            </div>

            <div class="form-group">
                <label class="form-label">Route Type</label>
                <div class="btn-group" role="group">
                    <input type="radio" id="type-road" name="route_type" value="road" checked>
                    <label for="type-road" class="btn btn-outline-primary">Road</label>
                    
                    <input type="radio" id="type-trail" name="route_type" value="trail">
                    <label for="type-trail" class="btn btn-outline-primary">Trail</label>
                    
                    <input type="radio" id="type-mixed" name="route_type" value="mixed">
                    <label for="type-mixed" class="btn btn-outline-primary">Mixed</label>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Elevation Preference</label>
                <select name="elevation_preference" class="form-control">
                    <option value="flat">Flat Routes</option>
                    <option value="moderate">Moderate Hills</option>
                    <option value="challenging">Challenging Climbs</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-checkbox">
                    <input type="checkbox" name="require_sidewalks">
                    Require sidewalks/pedestrian paths
                </label>
            </div>

            <button type="submit" class="btn btn-primary w-100">
                Search Routes
            </button>
        </form>
    </div>

    <div id="map"></div>
    
    <button id="toggle-sidebar" class="toggle-btn" aria-label="Toggle Sidebar">
        ‚ò∞
    </button>
</div>
{% endblock %}